{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/BoxPusher.vue?55a4","webpack:///./src/components/MapEditor.vue?6b8d","webpack:///./src/App.vue","webpack:///./src/components/BoxPusher.vue","webpack:///./src/components/BoxPusher.vue?aa37","webpack:///./src/components/MapEditor.vue","webpack:///./src/components/MapEditor.vue?3f88","webpack:///./src/App.vue?ae2f","webpack:///./src/main.js","webpack:///./src/App.vue?9f1d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","status","ref","changestatus","fmap","map","fstage","stage","play","data-key","importmap","type","id","uploaded","share","show","active_map","item","index","block","rowindex","getBlock","props","Array","default","static_map","key2direction","key_arr","beforeCreate","app","this","onkeydown","e","move","keyCode","created","deepClone","map_init","mounted","computed","player_position","y","x","complete_count","count","methods","alert","box_count","calc_block","document","getElementById","click","files","target","file","reader","FileReader","onload","Uint8Array","content","TextDecoder","decode","mapjson","JSON","parse","readAsArrayBuffer","$emit","congratulations","cate","getNextblock","direction","step","code","indexOf","orgrin","nextblock","ny","nx","nextblock2","by","bx","obj","newObj","isArray","__exports__","for","save","playnow","init","active_position","keys","keypress","singlecheckmap","getstaticmap","singlemap","createElement","blob","Blob","stringify","download","href","URL","createObjectURL","revokeObjectURL","flag_count","includes","concat","fill","arr","fcode","setBlock","y2","x2","defaultmap","mixins","components","BoxPusher","MapEditor","currentTarget","dataset","render","createApp","App","mount"],"mappings":"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","file":"js/app.9db77b0f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/box-pusher/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./BoxPusher.vue?vue&type=style&index=0&id=e13ec61c&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MapEditor.vue?vue&type=style&index=0&id=4e9a0265&scoped=true&lang=css\"","<!--\n * @author: Taolu\n * @Date: 2021-11-29 09:02:27\n-->\n<template>\n    <div class=\"container\" v-cloak>\n      <BoxPusher v-if=\"status=='default'\" ref=\"stage\" @changestatus=\"changestatus\" :fmap=\"map\" :fstage=\"stage\" />\n      <MapEditor v-if=\"status=='edit'\" @changestatus=\"changestatus\" @play=\"play\" />\n    </div>\n</template>\n\n<script>\nimport BoxPusher from \"./components/BoxPusher\";\nimport MapEditor from \"./components/MapEditor\";\nvar defaultmap = {\n  map:[\n        //0墙 1活动区域 2人物 3箱子 4终点 5箱子和终点重合\n        0, 0, 0, 0, 0, 0, \n        0, 2, 1, 1, 1, 0, \n        0, 1, 3, 3, 1, 0, \n        0, 1, 1, 0, 0, 0,\n        0, 1, 1, 1, 4, 0, \n        0, 1, 1, 1, 4, 0, \n        0, 0, 0, 0, 0, 0,\n      ],\n  stage:[6,7],\n}\nexport default {\n  data(){\n    return {\n      status:'default',\n    }\n  },\n  mixins:[defaultmap],\n  name: 'App',\n  components: {\n    BoxPusher,\n    MapEditor\n  },\n  methods:{\n    changestatus(e){\n      this.status = e.currentTarget.dataset.key;\n    },\n    play(map){\n      this.map = map.map;\n      this.stage = map.stage;\n      this.status = 'default';\n    },\n  }\n}\n</script>\n\n<style>\n[v-cloak]{\n  display:none;\n}\nhtml,body{\n  height:100%;\n  width:100%;\n  margin:0;\n}\n#app{\n  height:100%;\n  width:100%;\n  display:flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.container{\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.menu{\n  font-size: 30px;\n  font-weight: bold;\n  color:orange;\n  display:flex;\n  flex-direction: column;\n  margin-right:100px;\n}\n\n.menu .navbtn{\n  line-height:20px;\n  padding:10px;\n  margin-top:10px;\n  font-size:20px;\n  color:white;\n  border:0;\n  background: orange;\n  font-weight: bold;\n  cursor:pointer;\n}\n</style>\n","<!--\n * @author: Taolu\n * @Date: 2021-11-29 09:02:27\n-->\n<template>\n  <div class=\"container\">\n    <div class=\"menu\" >\n      <nav class=\"navbtn\" @click=\"changestatus\" data-key=\"default\">Play</nav>\n      <nav class=\"navbtn\" @click=\"changestatus\" data-key=\"edit\">Edit map by yourself</nav>\n      <nav class=\"navbtn\" @click=\"importmap\">Import maps <input v-show=\"false\" type=\"file\" id=\"upload\" @change=\"uploaded\" /> </nav>\n      <nav class=\"navbtn\" @click=\"share\">Share Box-pusher!</nav>\n    </div>\n    <div class=\"stage\">\n      <div v-show=\"show\" class=\"win\"></div>\n      <div class=\"row\" v-for=\"(item, index) in active_map\" :key=\"index\">\n        <div\n          :class=\"['block', getBlock(block)]\"\n          v-for=\"(block, rowindex) in item\"\n          :key=\"rowindex\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"BoxPusher\",\n  props:{\n    fmap:{\n      type:Array,\n      default(){\n        return [\n          //0墙 1活动区域 2人物 3箱子 4终点 5箱子和终点重合\n          0, 0, 0, 0, 0, 0, \n          0, 2, 1, 1, 1, 0, \n          0, 1, 3, 3, 1, 0, \n          0, 1, 1, 0, 0, 0,\n          0, 1, 1, 1, 4, 0, \n          0, 1, 1, 1, 4, 0, \n          0, 0, 0, 0, 0, 0,\n        ];\n      }\n    },\n    fstage:{//地图尺寸\n      type:Array,\n      default(){\n        return [6,7];\n      }\n    },\n  },\n  data() {\n    return {\n      static_map: [],\n      active_map: [],\n      key2direction:{\n        \"87\":1,\n        \"38\":1,\n        \"83\":2,\n        \"40\":2,\n        \"65\":3,\n        \"37\":3,\n        \"68\":4,\n        \"39\":4,\n      },\n      key_arr:[87,38,83,40,65,37,68,39],\n      show:false\n    };\n  },\n  beforeCreate() {\n    var app = this;\n    window.onkeydown = function (e) {\n      app.move(e.keyCode);\n    };\n  },\n  created() {\n    this.map = deepClone(this.fmap);\n    this.stage = deepClone(this.fstage);\n    this.map_init();\n  },\n  mounted() {\n    \n  },\n  computed: {\n    player_position() {\n      for (let y in this.active_map) {\n        for (let x in this.active_map[y]) {\n          if (2 === this.active_map[y][x]) return [this.static_map[y][x], +y, +x];\n        }\n      }\n      return [0, 0];\n    },\n    complete_count(){\n      let count = 0;\n      for (let y in this.active_map) {\n        for (let x in this.active_map[y]) {\n          if (3 === this.active_map[y][x] && 4 === this.static_map[y][x]) count++\n        }\n      }\n      return count;\n    }\n  },\n  methods: {\n    map_init(){\n      if (this.map.length != this.stage[0] * this.stage[1]) {\n        alert(\"map data error\");\n      }\n      let map = [];\n      for (let i = 0; i < this.stage[1]; i++) {\n        map.push(this.map.slice(i * this.stage[0], (i + 1) * this.stage[0]));\n      }\n      this.static_map = deepClone(map);\n      this.active_map = deepClone(map);\n      this.box_count = this.calc_block(3);\n    },\n    importmap(){\n      document.getElementById(\"upload\").click();\n    },\n    uploaded(e){\n      var app = this;\n      var files = e.target.files,\n          file = files[0];\n      var reader = new FileReader();\n      reader.onload = function(e) {\n          let data = new Uint8Array(e.target.result);\n          let content = new TextDecoder('gb2312').decode(data);\n          let mapjson = JSON.parse(content);\n          app.map = mapjson.map;\n          app.stage = mapjson.stage;\n          app.map_init();\n      };\n      reader.readAsArrayBuffer(file);\n    },\n    share(){\n      alert(\"Functions is coming! Thanks so much!\");\n    },\n    changestatus(e){\n      this.$emit(\"changestatus\",e);\n    },\n    congratulations(){\n      this.show = true;\n    },\n    calc_block(cate){\n      let count = 0;\n      for(let i in this.map){\n        if(this.map[i]===cate) count++\n      }\n      return count;\n    },\n    getNextblock(direction,y,x,step=1){\n      if(direction==1){\n        return [this.active_map[y-step][x],y-step,x];\n      }\n      if(direction==2){\n        return [this.active_map[y+step][x],y+step,x];\n      }\n      if(direction==3){\n        return [this.active_map[y][x-step],y,x-step];\n      }\n      if(direction==4){\n        return [this.active_map[y][x+step],y,x+step];\n      }\n    },\n    move(code) {\n      let index = this.key_arr.indexOf(code);\n      if(index==-1) return;\n      let direction = this.key2direction[\"\"+code];\n      let [orgrin,y,x] = this.player_position;\n      let [nextblock,ny,nx] = this.getNextblock(direction,y,x);\n      switch(nextblock){\n        case 4:\n        case 1:{\n          this.active_map[ny][nx] = 2;\n          this.active_map[y][x] = orgrin==4?4:1;\n          break;\n        }\n        case 3:{\n          let [nextblock2,by,bx] = this.getNextblock(direction,y,x,2);\n          if([1,4].indexOf(nextblock2)>-1){\n            this.active_map[by][bx] = 3;\n            this.active_map[ny][nx] = 2;\n            this.active_map[y][x] = orgrin==4?4:1;\n          }\n          break;\n        }\n      }\n      if(this.complete_count==this.box_count){\n        this.congratulations();\n      }\n    },\n    getBlock(cate) {\n      return [\"stone\", \"back\", \"player\", \"box\", \"dream\", \"complete\"][cate];\n    },\n  },\n};\n\nfunction deepClone(obj) {\n  let newObj = Array.isArray(obj) ? [] : {};\n  if (obj && typeof obj === \"object\") {\n    for (let key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        newObj[key] =\n          obj && typeof obj[key] === \"object\" ? deepClone(obj[key]) : obj[key];\n      }\n    }\n  }\n  return newObj;\n}\n</script>\n<style scoped>\n.container {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.stage {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position:relative;\n}\n.row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.block {\n  height: 40px;\n  width: 40px;\n  margin: 1px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.stone {\n  background: #c9c9c9;\n  background: url(\"../assets/stone.png\") no-repeat;\n  background-size: contain;\n}\n.back {\n  background: url(\"../assets/back.png\") no-repeat;\n  background-size: contain;\n}\n.player {\n  background: url(\"../assets/pika.png\") no-repeat;\n  background-size: contain;\n}\n.box {\n  background: url(\"../assets/box.png\") no-repeat;\n  background-size: contain;\n}\n.dream {\n  background: url(\"../assets/flag.png\") no-repeat;\n  background-size: contain;\n}\n.complete {\n  background: orange;\n  background: url(\"../assets/box.png\") no-repeat;\n  background-size: contain;\n}\n.win{\n  height:100%;\n  width:100%;\n  position:absolute;\n  left:0;\n  top:0;\n  background: url(\"../assets/win.png\") no-repeat;\n  background-size: contain;\n  animation: trans 1500ms ease-in 1;\n}\n\n@keyframes trans{\n  from{\n    transform: rotate(0deg);\n  }half{\n    transform: rotate(180deg);\n  }to{\n    transform: rotate(360deg);\n  }\n}\n\n.label {\n  height:100%;\n  width:100%;\n  \n}\n</style>\n","import { render } from \"./BoxPusher.vue?vue&type=template&id=e13ec61c&scoped=true\"\nimport script from \"./BoxPusher.vue?vue&type=script&lang=js\"\nexport * from \"./BoxPusher.vue?vue&type=script&lang=js\"\n\nimport \"./BoxPusher.vue?vue&type=style&index=0&id=e13ec61c&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\program\\\\github\\\\box-pusher\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e13ec61c\"]])\n\nexport default __exports__","<!--\n * @author: Taolu\n * @Date: 2021-11-29 09:02:27\n-->\n<template>\n  <div class=\"container\" v-cloak>\n    \n    <div class=\"menu\" >\n      <nav class=\"navbtn\" @click=\"changestatus\"  data-key=\"default\">Return</nav>\n      <nav class=\"navbtn\" v-if=\"show\" @click=\"show=false\">Reset init data</nav>\n      <nav class=\"navbtn\" v-if=\"show\" @click=\"save\">Save & Output your map</nav>\n      <nav class=\"navbtn\" v-if=\"show\" @click=\"playnow\">Play it right now</nav>\n    </div>\n    <div class=\"stage\">\n      <div v-show=\"!show\">\n        <div class=\"para\">\n          <label for=\"x\">row block：</label><input type=\"number\" id=\"x\" v-model=\"stage[0]\">\n        </div>\n        <div class=\"para\" >\n          <label for=\"y\">column block：</label><input type=\"number\" id=\"y\" v-model=\"stage[1]\">\n        </div>\n        <div class=\"para\">\n          <label for=\"count\">box counts：</label><input type=\"number\" id=\"count\" v-model=\"box_count\">\n        </div>\n        <button class=\"initbtn\" @click=\"init\">Init my map</button>\n      </div>\n      \n      <div class=\"editable\" v-if=\"show\">\n        <div class=\"map\">\n          <div class=\"row\" v-for=\"(item, index) in static_map\" :key=\"index\">\n            <div\n              :class=\"['block', getBlock(block), (rowindex==active_position[0] && index==active_position[1])?'active':'']\"\n              v-for=\"(block, rowindex) in item\"\n              :key=\"rowindex\"\n              @click=\"active_position = [rowindex,index]\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"tips\">\n          1. Clicking at the block or pressing the keybroad with \"w,s,a,d\" to select editable block.\n          <br>\n          2.Inputing numbers with the keys \"0-4\" to change the block function status.\n          <br>\n          3.The box-counts must be equal to that before setting.\n        </div>\n        <div class=\"iconlist\">\n          <div class=\"block stone\"></div>\n          <div class=\"block back\"></div>\n          <div class=\"block box\"></div>\n          <div class=\"block player\"></div>\n          <div class=\"block dream\"></div>\n        </div>\n        <div class=\"iconlist\">\n          <div class=\"block \">0</div>\n          <div class=\"block \">1</div>\n          <div class=\"block \">2</div>\n          <div class=\"block \">3</div>\n          <div class=\"block \">4</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MapEditor\",\n  data() {\n    return {\n      // static_map: [\n        //0stone 1area moveable spirit 3box 4flag 5completed pointed\n        // [ 0, 0, 0, 0, 0, 0, ], \n        // [ 0, 2, 1, 1, 1, 0, ], \n        // [ 0, 1, 3, 3, 1, 0, ], \n        // [ 0, 1, 1, 0, 0, 0, ],\n        // [ 0, 1, 1, 1, 4, 0, ], \n        // [ 0, 1, 1, 1, 4, 0, ], \n        // [ 0, 0, 0, 0, 0, 0, ],\n      // ],\n      static_map:[],\n      stage: [6, 7],\n      box_count:2,\n      keys:{\n        \"87\":1,\n        \"38\":1,\n        \"83\":2,\n        \"40\":2,\n        \"65\":3,\n        \"37\":3,\n        \"68\":4,\n        \"39\":4,\n\n        \"48\":0,\n        \"96\":0,\n        \"97\":-1,\n        \"49\":-1,\n        \"98\":-2,\n        \"50\":-2,\n        \"99\":-3,\n        \"51\":-3,\n        \"100\":-4,\n        \"52\":-4,\n      },\n      key_arr:[87,38,83,40,65,37,68,39,49,50,51,52,53,96,97,98,99,100,48,96],\n      active_position:[1,1],\n      show:false,\n    };\n  },\n  beforeCreate() {\n\n  },\n  created() {\n    var app = this;\n    window.onkeydown = function (e) {\n      app.keypress(e.keyCode);\n    };\n  },\n  mounted() {},\n  computed: {},\n  methods: {\n    changestatus(e){\n      this.$emit(\"changestatus\",e);\n    },\n    playnow(){\n      if(this.singlecheckmap()){\n        this.$emit(\"play\",{\n          map:this.getstaticmap(),\n          stage:[...this.stage],\n        });\n      }\n    },\n    save(){\n      var singlemap = {\n        map:this.getstaticmap(),\n        stage:[...this.stage],\n      }\n      if(this.singlecheckmap()){\n        var target = document.createElement('a');\n        var blob = new Blob([JSON.stringify(singlemap)]);\n        target.download = 'box-pusher.map.json';\n        target.href = URL.createObjectURL(blob);\n        target.click();\n        URL.revokeObjectURL(blob);\n        target = null;\n      }\n    },\n    singlecheckmap(){\n      let box_count = 0;\n      let flag_count = 0;\n      let static_map = this.getstaticmap();\n      for(let i in static_map){\n        if(static_map[i]===3){\n          box_count += 1\n        }\n        if(static_map[i]===4){\n          flag_count += 1\n        }\n      }\n      if(box_count!==this.box_count){\n        alert(\"Error:box_count incorrect!\");\n        return false;\n      }\n      if(flag_count!==this.box_count){\n        alert(\"Error:flag_count incorrect!\");\n        return false;\n      }\n      if(!static_map.includes(2)){\n        alert(\"Error:no player.Keypress 2 to set player!\");\n        return false;\n      }\n      return true;\n    },\n    getstaticmap(){\n      return [].concat(...this.static_map);\n    },\n    init(){\n      let [x,y] = this.stage;\n      let static_map = [];\n      for(let i=0; i<y; i++){\n        if(i==0 || i==y-1){\n          static_map.push(new Array(x).fill(0));\n        }else{\n          let arr = new Array(x).fill(1);\n          arr[0] = 0;\n          arr[x-1] = 0;\n          static_map.push(arr);\n        }\n      }\n      this.static_map = static_map;\n      this.show = true;\n    },\n    keypress(code){\n      if(!this.show) return;\n      let index = this.key_arr.indexOf(code);\n      if(index==-1) return;\n      let fcode = this.keys[\"\"+code];\n      if(fcode=='undefined') return;\n      switch(fcode){\n        case 1:{\n          if(this.active_position[1]>0){\n            this.active_position[1]--;\n          }\n          break;\n        }\n        case 2:{\n          if(this.active_position[1]<this.stage[1]-1){\n            this.active_position[1]++;\n          }\n          break;\n        }\n        case 3:{\n          if(this.active_position[0]>0){\n            this.active_position[0]--;\n          }\n          break;\n        }\n        case 4:{\n          if(this.active_position[0]<this.stage[0]-1){\n            this.active_position[0]++;\n          }\n          break;\n        }\n        case  0:\n        case -1:\n        case -2:\n        case -3:\n        case -4:\n        case -5:{\n          this.setBlock(this.active_position[1],this.active_position[0],-fcode);\n          break;\n        }\n        default:{\n\n          break;\n        }\n      }\n    },\n    setBlock(y,x,cate){\n      if(cate==2){\n        let index = this.getstaticmap().indexOf(2);\n        if(index>-1){\n          for(let y2 in this.static_map){\n            for(let x2 in this.static_map[y2]){\n              if(this.static_map[y2][x2]===2){\n                this.static_map[y2][x2] = 1;\n                break;\n              }\n            }\n          }\n        }\n      }\n      this.static_map[y][x] = cate;\n    },\n    getBlock(cate) {\n      return [\"stone\", \"back\", \"player\", \"box\", \"dream\", \"complete\"][cate];\n    },\n  },\n};\n</script>\n<style scoped>\n\n.container {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.stage {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position:relative;\n}\n.row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.block {\n  height: 40px;\n  width: 40px;\n  border: 1px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n@keyframes flicker{\n  from{\n    border:2px solid white;\n  }50%{\n    border:2px solid red;\n  }to{\n    border:2px solid white;\n  }\n}\n.active{\n  border:1px solid white;\n  position:relative;\n}\n.active::after{\n  content:\" \";\n  position:absolute;\n  left:-2px;\n  top:-2px;\n  height: 40px;\n  width: 40px;\n  border:2px solid white;\n  animation:flicker ease-in-out 2s infinite;\n}\n.stone {\n  background: #c9c9c9;\n  background: url(\"../assets/stone.png\") no-repeat;\n  background-size: contain;\n}\n.back {\n  background: url(\"../assets/back.png\") no-repeat;\n  background-size: contain;\n}\n.player {\n  background: url(\"../assets/pika.png\") no-repeat;\n  background-size: contain;\n}\n.box {\n  background: url(\"../assets/box.png\") no-repeat;\n  background-size: contain;\n}\n.dream {\n  background: url(\"../assets/flag.png\") no-repeat;\n  background-size: contain;\n}\n.complete {\n  background: orange;\n  background: url(\"../assets/box.png\") no-repeat;\n  background-size: contain;\n}\n.win{\n  height:100%;\n  width:100%;\n  position:absolute;\n  left:0;\n  top:0;\n  background: url(\"../assets/win.png\") no-repeat;\n  background-size: contain;\n  animation: trans 1500ms ease-in 1;\n}\n\n@keyframes trans{\n  from{\n    transform: rotate(0deg);\n  }half{\n    transform: rotate(180deg);\n  }to{\n    transform: rotate(360deg);\n  }\n}\n\n.tips{\n  margin:30px 0;\n  width:500px;\n  word-break: break-all;\n  white-space: pre-line;\n  line-height:2;\n}\n\ninput{\n  border:none;\n  font-size:20px;\n  text-decoration: #c9c9c9 1px solid;\n  margin:10px 0;\n  outline: none;\n}\n\ninput:hover{\n  border:none;\n  /* outline: none; */\n}\n\n.initbtn{\n  line-height:20px;\n  padding:10px;\n  margin-top:10px;\n  font-size:20px;\n  color:white;\n  border:0;\n  background: orange;\n  font-weight: bold;\n  margin-top:50px;\n}\n\n.iconlist{\n  width:260px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.iconlist .block{\n  line-height:40px;\n  text-align: center;\n}\n\n</style>\n","import { render } from \"./MapEditor.vue?vue&type=template&id=4e9a0265&scoped=true\"\nimport script from \"./MapEditor.vue?vue&type=script&lang=js\"\nexport * from \"./MapEditor.vue?vue&type=script&lang=js\"\n\nimport \"./MapEditor.vue?vue&type=style&index=0&id=4e9a0265&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\program\\\\github\\\\box-pusher\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e9a0265\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=3e16f702\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3e16f702&lang=css\"\n\nimport exportComponent from \"E:\\\\program\\\\github\\\\box-pusher\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=3e16f702&lang=css\""],"sourceRoot":""}